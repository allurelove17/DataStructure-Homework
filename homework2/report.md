# 41243219  
# 41243241  

## 解題說明

本次作業分為三個主要問題：

1. **最小/最大堆積（Min/Max Heap）**
   - 實作以模板類別方式撰寫的優先佇列結構，支援 `Push`、`Pop`、`Top` 等操作。
   - 使用上浮與下沉（heapify）機制來維持堆積的結構性質。

2. **二元搜尋樹（Binary Search Tree, BST）**
   - 提供節點插入、刪除與高度計算功能。
   - 利用隨機資料插入分析 BST 的平均高度與 log₂(n) 的比值。

3. **外部排序分析（External Sorting）**
   - 模擬不同 k-way merge 的輸入成本。
   - 回答課本第 9 章第 1 題（p.457 Exercise 1）關於 Replacement Selection 與合併次數問題。

---

## 程式實作

- 使用 C++ 語言完成三個模組：
  - `PQ<T>` 為抽象優先佇列類別。
  - `MinHeap<T>` 與 `MaxHeap<T>` 分別為最小與最大堆。
  - `BST` 提供 `insert()`、`deleteKey()`、`getHeight()` 等操作。
  - `analyzeExternalSorting()` 評估外部排序在不同參數下的表現。
  - `solveTextbookExercise()` 為課本題目計算模擬。

---

## 效能分析

### ✅ MinHeap 測試結果：


- 證明堆結構維持正確，輸出為遞增順序。

---

### ✅ BST 高度分析：

| n    | Height | log₂(n) | Ratio |
|------|--------|---------|-------|
| 100  | ~11    | 6.64    | ~1.65 |
| 1000 | ~18    | 9.97    | ~1.80 |
| 10000| ~27    | 13.29   | ~2.03 |

- 隨著 n 增加，高度略大於 log₂(n)。
- 原因為隨機插入未保證平衡，存在偏斜的情況。

---

### ✅ 外部排序分析（k-way merge）：

| k  | Input Time (s) | 備註                     |
|----|----------------|--------------------------|
| 2  | 9.640          |                          |
| 4  | 7.320          |                          |
| 8  | 6.160          | 最佳點（記憶體與磁碟平衡） |
| 16 | 6.000          |                          |
| 20 | N/A            | 記憶體不足               |

- 當 k 適中（例如 6~10）時，輸入時間最小。
- 若 k 過大，每個 run buffer 空間太少，反而效率下降。

---

## 測試與驗證

- 測試 MinHeap 操作正確性。
- 隨機插入 BST，測量並比對 log₂(n)。
- 外部排序依據公式推導並以不同 k 值進行分析。

---

## 申論及開發報告

- 本作業實作強調資料結構的「抽象設計與效能驗證」。
- 堆積與 BST 展現不同資料結構在排序與查找的效率。
- 外部排序模擬實務資料處理場景，強化記憶體與 I/O 觀念。
- 此外，程式設計風格使用模板與物件導向方式撰寫，提高模組化與可重用性。
- 可延伸設計：將 MinHeap 用
